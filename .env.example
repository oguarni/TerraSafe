# TerraSafe Environment Configuration
# Copy this file to .env and fill in the values
#
# ⚠️  WARNING: Never use default passwords in production!
# ⚠️  Use secrets management (AWS Secrets Manager, HashiCorp Vault, etc.)
# ⚠️  All passwords below MUST be changed before deployment!

# ========================================
# API Configuration
# ========================================
# API server host and port
TERRASAFE_API_HOST=0.0.0.0
TERRASAFE_API_PORT=8000

# API Key Hash (REQUIRED)
# Generate using: python scripts/generate_api_key.py
# This should be a bcrypt hash of your API key (60 characters)
#
# ⚠️  CRITICAL: DO NOT use 'source .env' or '. .env' in shell scripts!
#     Shell sourcing will expand $2b$12$... as variables, breaking the hash.
#     Let python-dotenv load this file instead.
TERRASAFE_API_KEY_HASH=your-bcrypt-hash-here

# CORS origins (comma-separated)
TERRASAFE_API_CORS_ORIGINS=http://localhost:3000

# ========================================
# Database Configuration
# ========================================
# PostgreSQL connection URL (optional, for future use)
# Format: postgresql+asyncpg://user:password@host:port/database
TERRASAFE_DATABASE_URL=postgresql+asyncpg://terrasafe_user:CHANGE_ME_IN_PRODUCTION@localhost:5432/terrasafe
TERRASAFE_DATABASE_POOL_SIZE=10

# PostgreSQL password (for Docker Compose)
POSTGRES_PASSWORD=CHANGE_ME_IN_PRODUCTION

# ========================================
# Redis Configuration
# ========================================
# Redis connection URL for caching and rate limiting
TERRASAFE_REDIS_URL=redis://localhost:6379
TERRASAFE_REDIS_MAX_CONNECTIONS=50

# ========================================
# Cache Configuration
# ========================================
# Cache TTL in seconds
TERRASAFE_CACHE_TTL_SECONDS=3600
# Maximum number of cache entries
TERRASAFE_CACHE_MAX_ENTRIES=100

# ========================================
# ML Model Configuration
# ========================================
# Minimum confidence threshold for vulnerability detection (0.0 - 1.0)
TERRASAFE_MODEL_CONFIDENCE_THRESHOLD=0.7
# ML model version
TERRASAFE_MODEL_VERSION=1.0.0
# Path to ML model file
TERRASAFE_MODEL_PATH=models/terrasafe_model.pkl

# ========================================
# Security Configuration
# ========================================
# Maximum allowed file size in megabytes
TERRASAFE_MAX_FILE_SIZE_MB=10
# Maximum time allowed for a single scan in seconds
TERRASAFE_SCAN_TIMEOUT_SECONDS=30

# Rate limiting
TERRASAFE_RATE_LIMIT_REQUESTS=100
TERRASAFE_RATE_LIMIT_WINDOW_SECONDS=60

# ========================================
# Logging Configuration
# ========================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
TERRASAFE_LOG_LEVEL=INFO
# Log format: json or text
TERRASAFE_LOG_FORMAT=json
# Optional log file path
TERRASAFE_LOG_FILE=

# ========================================
# Environment
# ========================================
# Environment: development, staging, production
TERRASAFE_ENVIRONMENT=development
# Enable debug mode (true/false)
TERRASAFE_DEBUG=false

# ========================================
# Monitoring Configuration
# ========================================
# Grafana admin password
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_IN_PRODUCTION
